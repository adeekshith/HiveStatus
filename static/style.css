:root {
    /* Theme Colors */
    --page-bg: #f3f4f6;
    --page-text: #111827;
    --meta-text: #6b7280;

    /* XV Variables Mapped to CSS Vars */
    /* Light/Default Mode */
    --xv-gray-light: #c9c9c9;
    --xv-gray-dark: #9fa0a2;
    
    --xv-green: rgba(133, 177, 58, 1);
    --xv-green-light: #33771b;
    --xv-green-feat: #91bd46; 
    
    --xv-blue: rgba(47, 155, 167, 1);
    --xv-blue-light: #6DB9C1;
    --xv-blue-feat: #3ba7b3;

    --xv-yellow: rgba(227, 169, 40, 1);
    --xv-yellow-light: #EBC268;
    --xv-yellow-feat: #efb534;

    --xv-red: rgba(204, 55, 77, 1);
    --xv-red-light: #dd0031;
    --xv-red-feat: #d84359;
}

@media (prefers-color-scheme: dark) {
    :root {
        --page-bg: #121212;
        --page-text: #e9ecef;
        --meta-text: #adb5bd;

        --xv-gray-light: #475569;
        --xv-gray-dark: #334155;
    }
}

/* Global Reset */
*, *:after, *:before {
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box;
}

body {
    background-color: var(--page-bg);
    color: var(--page-text);
    margin: 0;
    padding: 20px 0 60px 0; /* Extra padding bottom for fixed footer */
    font-family: 'Roboto Condensed', sans-serif;
    transition: background-color 0.3s, color 0.3s;
}

/* App Wrapper */
#app {
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
}

/* Group Container */
.groups-container {
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
}

/* Group Section (Details) */
.group-section {
    width: 100%;
    margin-bottom: 40px;
    display: flex;
    flex-direction: column;
    align-items: center;
}

.group-section summary {
    font-size: 1.5rem;
    font-weight: 700;
    margin-bottom: 20px;
    cursor: pointer;
    list-style: none;
    color: var(--page-text);
    border-bottom: 1px solid var(--meta-text);
    padding-bottom: 10px;
    
    /* Centering */
    display: flex;
    justify-content: center; /* Center the text */
    align-items: center;
    text-align: center;
    position: relative;
}

/* Arrow indicator positioned absolutely to not affect centering */
.group-section summary:after {
    content: "â–¾";
    position: absolute;
    right: 0;
    font-size: 1.2rem;
    transition: transform 0.2s;
}

.group-section[open] summary:after {
    transform: rotate(180deg);
}

/* Outer Hexagon Grid */
.hexagon-grid-container {
	display: flex;
	flex-wrap: wrap;
	width: 60%; /* Fallback */
	margin: 0 auto; /* Center horizontally */
	padding: 0;
	list-style: none;
    padding-bottom: 40px; 
    justify-content: flex-start; /* Important for packing math */
}

/* Hexagon Shape */
.hexagon {
  position: relative;
  width: 140px; 
  height: 80.83px;
  background-color: var(--xv-gray-dark);
  margin: 44px 2px 0;
  display: flex;
  justify-content: center;
  align-items: center;
}

.hexagon:before, .hexagon:after {
    content: "";
    position: absolute;
    width: 0;
    border-left: 70px solid transparent;
    border-right: 70px solid transparent;
}

.hexagon:before {
    bottom: 100%;
    border-bottom: 40.41px solid var(--xv-gray-dark);
}

.hexagon:after {
    top: 100%;
    width: 0;
    border-top: 40.41px solid var(--xv-gray-dark);
}

/* Inner Hexagon */
.hexagon-inner {
  position: relative;
  width: 136px; 
  height: 78.52px;
  background-color: var(--xv-gray-light);
  margin: 39.26px 0;
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1;
}

.hexagon-inner:before, .hexagon-inner:after {
    content: "";
    position: absolute;
    width: 0;
    border-left: 68px solid transparent;
    border-right: 68px solid transparent;
    z-index: 1;
}

.hexagon-inner:before {
    bottom: 100%;
    border-bottom: 39.26px solid var(--xv-gray-light);
}

.hexagon-inner:after {
    top: 100%;
    width: 0;
    border-top: 39.26px solid var(--xv-gray-light);
}

/* Content Styling */
.hexagon-name {
	width: 120px;
	text-align: center;
	font-family: 'Roboto Condensed', sans-serif;
	font-weight: 700;
	font-size: 14px;
	color: #fff;
	z-index: 2;
    word-break: break-word;
}

/* Media Queries - Controlling Widths for Centered Grid */
@media (min-width: 1920px) {
	.hexagon-grid-container { width: 1600px; }
    .group-section summary { width: 1600px; }
	.hexagon:nth-child(21n+12) { margin-left: 74px; }
}

@media (max-width: 1919px) and (min-width: 1280px) {
	.hexagon-grid-container { width: 1100px; }
    .group-section summary { width: 1100px; }
	.hexagon:nth-child(14n+8) { margin-left: 74px; }
}

@media (max-width: 1279px) and (min-width: 1024px) {
	.hexagon-grid-container { width: 960px; }
    .group-section summary { width: 960px; }
	.hexagon:nth-child(12n+7) { margin-left: 74px; }
}

@media (max-width: 1023px) and (min-width: 781px) {
	.hexagon-grid-container { width: 780px; }
    .group-section summary { width: 780px; }
	.hexagon:nth-child(9n+6) { margin-left: 74px; }
}

@media (max-width: 780px) and (min-width: 640px) {
	.hexagon-grid-container { width: 640px; }
    .group-section summary { width: 640px; }
	.hexagon:nth-child(7n+5) { margin-left: 74px; }
}

@media (max-width: 639px) {
	.hexagon-grid-container { width: 320px; }
    .group-section summary { width: 320px; }
	.hexagon:nth-child(3n+3) { margin-left: 74px; }
}

/* Color Classes */
.hexagon.hexagon-green { background-color: var(--xv-green); }
.hexagon.hexagon-green:before { border-bottom-color: var(--xv-green); }
.hexagon.hexagon-green:after { border-top-color: var(--xv-green); }
.hexagon.hexagon-green .hexagon-inner { background-color: var(--xv-green-light); }
.hexagon.hexagon-green .hexagon-inner:before { border-bottom-color: var(--xv-green-light); }
.hexagon.hexagon-green .hexagon-inner:after { border-top-color: var(--xv-green-light); }

.hexagon.hexagon-red { background-color: var(--xv-red); }
.hexagon.hexagon-red:before { border-bottom-color: var(--xv-red); }
.hexagon.hexagon-red:after { border-top-color: var(--xv-red); }
.hexagon.hexagon-red .hexagon-inner { background-color: var(--xv-red-light); }
.hexagon.hexagon-red .hexagon-inner:before { border-bottom-color: var(--xv-red-light); }
.hexagon.hexagon-red .hexagon-inner:after { border-top-color: var(--xv-red-light); }

/* Footer - Pinned to Bottom */
.last-updated {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    width: 100%;
    background-color: var(--page-bg); /* Match background */
    border-top: 1px solid rgba(128, 128, 128, 0.2);
    text-align: center;
    padding: 15px;
    font-size: 0.8rem;
    color: var(--meta-text);
    z-index: 1000;
}
